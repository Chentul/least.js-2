/**
*** least.js 2
*** Author: Kamil Czujowski
*** Version: v2 (0.1)
*** love. hamburg. 2014 by Kamil Czujowski - All rights reserved.
*** http://kamilczujowski.de
**/
!function($){$.fn.least=function(options){var settings=$.extend({random:!0,scrollToGallery:!0,HiDPI:!0},options);return this.each(function(){function intipreview(object,path){var close=$('<figure class="close"></figure>'),img=$('<img src="'+path+'"/>'),thumb=$("li a");img.load(function(){object.html("").prepend(img).append(close).slideDown("slow"),thumb.removeClass("load")}),close.on("click",function(){$(".least-preview").slideToggle("slow"),thumb.removeClass("active")})}if($(this).find("li a").click(function(){var $$=$(this),path=$$.attr("href"),preview=$(".least-preview"),previewImg=preview.children("img");return previewImg.length&&path===previewImg.attr("src")?(preview.slideToggle("slow"),$$.toggleClass("active"),void 0):(previewImg.length?($$.addClass("active"),$(".active").removeClass("active"),preview.slideUp("slow",function(){intipreview(preview,path)})):intipreview(preview,path),$$.addClass("load active"),void 0)}),settings.random&&$(".least-gallery").each(function(){var ul=$(this),li=ul.children("li");li.sort(function(){var temp=parseInt(8*Math.random(),null),OddEven=temp%4,PosNeg=temp>2?1:-1;return OddEven*PosNeg}).appendTo(ul)}),settings.scrollToGallery&&$(this).find("li a").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#least").offset().top},500)}),settings.HiDPI&&window.devicePixelRatio>1)for(var image_thumb=$("#least img"),image_big=$("#least a"),i=0;i<image_thumb.length&&image_big.length;i++){var src=image_thumb[i].src,href=image_big[i].href,j=src.lastIndexOf("."),k=href.lastIndexOf(".");src=src.substr(0,j)+"@2x"+src.substr(j),href=href.substr(0,k)+"@2x"+href.substr(k),image_thumb[i].src=src,image_big[i].href=href}})}}(jQuery);